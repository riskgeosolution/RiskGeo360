<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RiskGeo Solutions - Monitoramento Climático</title>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />

    <link rel="stylesheet" href="style.css">

</head>
<body>
    <header class="app-header">
        <div class="header-top-row">
            <a href="https://www.riskgeo.com.br" target="_blank" class="app-logo">RiskGeo Solutions</a>
            <div class="header-links-group">
                <button id="monitor-room-btn">Sala de Monitoramento</button>
                <a href="https://www.riskgeo.com.br" target="_blank" class="header-link">Site</a>
            </div>
        </div>
        <span class="aviso-legal">AVISO: Dados para fins demonstrativos. Não utilizar como ferramenta de risco operacional.</span>
    </header>

    <div id="map-container">
        <div id="map"></div>
        <div id="alerta-panel" class="data-panel">
            <h2 id="alerta-titulo">Nível de Alerta</h2>
            <p id="nome-cidade">Carregando Local...</p>
            <p>Chuva Acumulada (72h): <span id="chuva-agora" class="value">Aguardando...</span></p>
            <p>Previsão Chuva (72h): <span id="chuva-futura" class="value">Aguardando...</span></p>
            <p>Temperatura Atual: <span id="temperatura" class="value">Aguardando...</span></p>
            <button id="open-dashboard-btn" style="width:100%; margin-top:10px; padding: 8px;">Ver Gráfico de Pluviometria</button>
        </div>
        <div id="map-footer-note">NOTA: As faixas de níveis de risco atuais foram alteradas unicamente para a verificação das funcionalidades da aplicação.</div>
    </div>

    <div id="monitor-room-container">
        <div id="monitor-room-content">
            <header class="monitor-header">
                <button id="back-to-map-from-monitor-btn">← Voltar ao Mapa</button>
            </header>
            <div id="capitais-grid-container"></div>
            <div id="monitor-footer-note">NOTA: As faixas de níveis de risco atuais foram alteradas unicamente para a verificação das funcionalidades da aplicação.</div>
        </div>
    </div>

    <div id="dashboard-container">
        <div id="dashboard-content">
            <header class="dashboard-header">
                <h1 id="dashboard-title">Pluviometria Histórica para [Cidade]</h1>
                <button id="back-to-map-btn">← Voltar ao Mapa</button>
            </header>
            <div class="seletor-container">
                <label for="periodo-selector">Período Histórico:</label>
                <select id="periodo-selector">
                    <option value="24">24 horas</option>
                    <option value="48">48 horas</option>
                    <option value="72" selected>72 horas</option>
                    <option value="96">96 horas</option>
                </select>
                <span id="municipio-display"></span>
                <button id="toggle-detalhes-btn" style="padding: 8px 15px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer;">Ver Detalhes Adicionais</button>
            </div>
            <div id="detalhes-adicionais-container" style="display: none;">
                </div>
            <div class="charts-container">
                <div id="pluviometria-card">
                    <h2>Pluviometria Acumulada (Histórico)</h2>
                    <canvas id="pluvioChart"></canvas>
                </div>
                <div id="previsao-card">
                    <h2>Pluviometria Acumulada (Previsão)</h2>
                    <canvas id="previsaoChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>
    <script src="script.js"></script>
</body>
</html>